<?xml version="1.0" encoding="utf-8" ?>
<Defs>
  
  <!--shield hediff-->
  <HediffDef ParentName="HVT_TraitHediffBase">
	<defName>HVB_BionicShield</defName>
	<hediffClass>HautsFramework.Hediff_PreDamageModification</hediffClass>
	<label>bionic shield</label>
	<description>A projectile-repulsion field generated by bionics. It will attempt to stop incoming projectiles or shrapnel, but does nothing against melee attacks or heat. It shuts down instantly if hit by an EMP.\n\nThis shield takes damage after any shields generated by equipment. Since it is nearly skintight, it is possible to fire ranged weapons through it.</description>
	<initialSeverity>0.001</initialSeverity>
	<comps>
	  <li Class="HautsBionics.HediffCompProperties_BionicShield">
		<chance>1</chance>
		<severityOnHit>-1</severityOnHit>
		<minSeverityToWork>0.001</minSeverityToWork>
		<damageScalesSeverityLoss>true</damageScalesSeverityLoss>
		<soundOnBlock>EnergyShield_AbsorbDamage</soundOnBlock>
		<fleckOnBlock>ExplosionFlash</fleckOnBlock>
		<instantlyOverwhelmedBy>EMP</instantlyOverwhelmedBy>
		<destroyIfOverwhelmed>false</destroyIfOverwhelmed>
		<!--<blocksRangedWeapons>true</blocksRangedWeapons>doesn't do anything yet, I need to learn how transpilers work-->
		<baseStartingTicksToReset>3200</baseStartingTicksToReset>
		<energyOnReset>6.061</energyOnReset>
		<baseEnergyRechargeRate>0</baseEnergyRechargeRate>
		<baseMaxEnergy>0.001</baseMaxEnergy>
		<maxEnergyScalar>VEF_EnergyShieldEnergyMaxFactor</maxEnergyScalar>
		<breakEffect>Shield_Break</breakEffect>
		<visualRange>1.2~1.5</visualRange>
		<resetSound>EnergyShield_Reset</resetSound>
		<priority>10000</priority>
		<reactsToOther>false</reactsToOther><!--only reacts to ranged and explosive damage, just like a normal shield-->
		<shouldUseIncomingDamageFactor>false</shouldUseIncomingDamageFactor>
		<noCostIfInvincible>false</noCostIfInvincible>
		<reactsToShieldBypassers>false</reactsToShieldBypassers>
	  </li>
	  <li Class="HautsFramework.HediffCompProperties_MoteConditionalShield">
		<mote>Hauts_DefaultShieldGraphic</mote>
		<scale>1</scale>
		<minDrawFactor>1.2</minDrawFactor>
		<maxDrawFactor>1.5</maxDrawFactor>
		<randomRotation>true</randomRotation>
		<validRange>0.001~9999999</validRange>
	  </li>
	  <li Class="HediffCompProperties_DisappearsOnDeath"/>
	</comps>
  </HediffDef>
  
  <HediffDef ParentName="HVT_TraitHediffBase">
	<defName>HVB_ProjectedShield</defName>
	<hediffClass>HautsFramework.Hediff_PreDamageModification</hediffClass>
	<label>projected shield</label>
	<description>A projectile-repulsion field generated by an archotech shield bubbler. It will attempt to stop incoming projectiles or shrapnel, but does nothing against melee attacks or heat. It shuts down instantly if hit by an EMP.\n\nThis shield takes damage after any shields generated by equipment. Since it is nearly skintight, it is possible to fire ranged weapons through it. It does not regenerate after running out of energy.</description>
	<initialSeverity>0.001</initialSeverity>
	<comps>
	  <li Class="HautsFramework.HediffCompProperties_DamageNegationShield">
		<chance>1</chance>
		<severityOnHit>-1</severityOnHit>
		<minSeverityToWork>0.001</minSeverityToWork>
		<damageScalesSeverityLoss>true</damageScalesSeverityLoss>
		<soundOnBlock>EnergyShield_AbsorbDamage</soundOnBlock>
		<fleckOnBlock>ExplosionFlash</fleckOnBlock>
		<instantlyOverwhelmedBy>EMP</instantlyOverwhelmedBy>
		<destroyIfOverwhelmed>true</destroyIfOverwhelmed><!--once depleted, it's gone-->
		<energyOnReset>70</energyOnReset><!--however, it should start at full strength-->
		<baseEnergyRechargeRate>4.33</baseEnergyRechargeRate>
		<baseMaxEnergy>70</baseMaxEnergy>
		<maxEnergyScalar>VEF_EnergyShieldEnergyMaxFactor</maxEnergyScalar>
		<breakEffect>Shield_Break</breakEffect>
		<visualRange>1.2~1.5</visualRange>
		<priority>10010</priority>
		<reactsToOther>false</reactsToOther><!--only reacts to ranged and explosive damage, just like a normal shield-->
		<shouldUseIncomingDamageFactor>false</shouldUseIncomingDamageFactor>
		<noCostIfInvincible>false</noCostIfInvincible>
		<reactsToShieldBypassers>false</reactsToShieldBypassers>
	  </li>
	  <li Class="HautsFramework.HediffCompProperties_MoteConditionalShield">
		<mote>Hauts_DefaultShieldGraphic</mote>
		<scale>1</scale>
		<minDrawFactor>1.2</minDrawFactor>
		<maxDrawFactor>1.5</maxDrawFactor>
		<randomRotation>true</randomRotation>
		<validRange>0.001~9999999</validRange>
	  </li>
      <li Class="HediffCompProperties_Disappears">
        <disappearsAfterTicks>2500</disappearsAfterTicks>
        <showRemainingTime>true</showRemainingTime>
      </li>
	  <li Class="HediffCompProperties_DisappearsOnDeath"/>
	</comps>
  </HediffDef>
  
  
  <HediffDef ParentName="HVT_TraitHediffBase" MayRequire="Ludeon.RimWorld.Odyssey">
	<defName>HVB_GravitonShield</defName>
	<hediffClass>HautsFramework.Hediff_PreDamageModification</hediffClass>
	<label>bionic graviton shield</label>
	<description>A projectile-repulsion field generated by the harnessed gravitational aftereffects of a gravship's flight. It will attempt to stop incoming projectiles or shrapnel, but does nothing against melee attacks or heat.\n\nThis shield takes damage after any shields generated by equipment. Unlike regular shields, it is possible to fire ranged weapons through it, it cannot be broken by EMPs, and it does not regenerate.</description>
	<initialSeverity>0.001</initialSeverity>
	<comps>
	  <li Class="HautsBionics.HediffCompProperties_BionicShield">
		<chance>1</chance>
		<severityOnHit>-1</severityOnHit>
		<minSeverityToWork>0.001</minSeverityToWork>
		<damageScalesSeverityLoss>true</damageScalesSeverityLoss>
		<soundOnBlock>EnergyShield_AbsorbDamage</soundOnBlock>
		<fleckOnBlock>ExplosionFlash</fleckOnBlock>
		<destroyIfOverwhelmed>true</destroyIfOverwhelmed>
		<baseStartingTicksToReset>99999</baseStartingTicksToReset>
		<energyOnReset>99999</energyOnReset>
		<baseEnergyRechargeRate>0</baseEnergyRechargeRate>
		<baseMaxEnergy>0.001</baseMaxEnergy>
		<maxEnergyScalar>VEF_EnergyShieldEnergyMaxFactor</maxEnergyScalar>
		<breakEffect>Shield_Break</breakEffect>
		<visualRange>1.4~1.7</visualRange>
		<resetSound>EnergyShield_Reset</resetSound>
		<priority>9995</priority>
		<reactsToOther>false</reactsToOther><!--only reacts to ranged and explosive damage, just like a normal shield-->
		<shouldUseIncomingDamageFactor>false</shouldUseIncomingDamageFactor>
		<noCostIfInvincible>false</noCostIfInvincible>
		<reactsToShieldBypassers>false</reactsToShieldBypassers>
	  </li>
	  <li Class="HautsFramework.HediffCompProperties_MoteConditionalShield">
		<mote>HVB_PurpleShieldGraphic</mote>
		<scale>1</scale>
		<minDrawFactor>1.4</minDrawFactor>
		<maxDrawFactor>1.7</maxDrawFactor>
		<randomRotation>true</randomRotation>
		<validRange>0.001~9999999</validRange>
	  </li>
	  <li Class="HediffCompProperties_DisappearsOnDeath"/>
	</comps>
  </HediffDef>
  <ThingDef ParentName="MoteGlowDistorted" MayRequire="Ludeon.RimWorld.Odyssey">
	<defName>HVB_PurpleShieldGraphic</defName>
	<thingClass>MoteAttached</thingClass>
	<altitudeLayer>Projectile</altitudeLayer>
	<mote>
	  <fadeInTime>0.001</fadeInTime>
	  <fadeOutTime>0.001</fadeOutTime>
	  <solidTime>9999</solidTime>
	  <!--<realTime>true</realTime>-->
	  <needsMaintenance>true</needsMaintenance>
	</mote>
	<graphicData>
	  <graphicClass>Graphic_Mote</graphicClass>
	  <texPath>Other/ShieldBubble</texPath>
	  <shaderType>Transparent</shaderType>
	  <color>(0.6,0.2,0.8,1)</color>
	  <drawSize>1</drawSize>
	  <shaderParameters>
		<_DistortionTex>/Other/Ripples</_DistortionTex>
		<_distortionIntensity>0.05</_distortionIntensity>
		<_DistortionScale>0.4</_DistortionScale>
		<_distortionScrollSpeed>(0.07, 0.07, 0.0)</_distortionScrollSpeed>
	  </shaderParameters>
	</graphicData>
  </ThingDef>
  
</Defs>